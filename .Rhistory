filename <- paste("0",i,".csv", sep="")
} else {filename <- paste(i, ".csv", sep="")}
# Read in csv data
data <- read.csv(filename)
# append to data
alldata <- rbind(alldata, data)
}
0 < id[i] && id[i] <= 9
i
for(i in id){
# create filename as strings from id
if (0 < i && i <= 9){
filename <- paste("00",i,".csv", sep="")
} else if (9 < i && i <= 99){
filename <- paste("0",i,".csv", sep="")
} else {filename <- paste(i, ".csv", sep="")}
# Read in csv data
data <- read.csv(filename)
# append to data
alldata <- rbind(alldata, data)
}
setwd("~/Desktop/Coursera_R/Week2")
source("pollutantmean.R")
pollutantmean("specdata", "sulfate", 1:10)
pollutantmean("specdata", "nitrate", 70:72)
pollutantmean("specdata", "nitrate", 23)
pollutantmean("specdata", "nitrate", 70:72)
pollutant_data <- alldata[[pollutant]]
source("pollutantmean.R")
setwd("~/Desktop/Coursera_R/Week2")
source("pollutantmean.R")
source("pollutantmean.R")
pollutantmean("specdata", "sulfate", 1:10)
pollutantmean("specdata", "sulfate", 1:10)
source("pollutantmean.R")
pollutantmean("specdata", "sulfate", 1:10)
pollutantmean("specdata", "nitrate", 70:72)
pollutantmean("specdata", "nitrate", 23)
wd <- getwd()
wd
paste(wd,"specdata")
paste(wd,"/specdata",sep="")
directory <- "specdata"
wd <- getwd()
setwd(paste(wd, "/", directory, sep=""))
setwd(wd)
source("pollutantmean.R")
pollutantmean("specdata", "sulfate", 1:10)
pollutantmean("specdata", "nitrate", 70:72)
pollutantmean("specdata", "nitrate", 23)
out <- data.frame(id = numeric(),
nobs = numeric())
out
View(out)
View(out)
data <- read.csv(filename)
wd <- getwd()
setwd(paste(wd, "/", directory, sep=""))
data <- read.csv(filename)
nocc <- complete.cases(data)
table(nocc)
table(nocc)["T"]
table(nocc)["TRUE"]
out
out[["id"]]
out[["id"]] <- 1:10
id = 1:322
out <- data.frame(id = numeric(),
nobs = numeric(),
nrows = length(id))
length(id)
out <- data.frame(id = numeric(),
nobs = numeric(),
nrows = 10)
?data.frame
N = length(id)
out <- data.frame(id = numeric(N),
nobs = numeric(N))
View(out)
View(out)
id
out[[id]] <- id
out[[id]] <- id
out[[id]]
out[["id""]]
out[["id""]]
out[["id"]]
out[["id"]] <- id
View(out)
View(out)
id <- 54:78
N = length(id)
out <- data.frame(id = numeric(N),
nobs = numeric(N))
out[["id"]] <- id
View(out)
View(out)
?match
out.id == i
out.id
out[["id"]] == i
out[out[["id"]] == i]
x<- out[["id"]] == i
x
match(TRUE,x)
nocc
table(cc)["TRUE"]
cc <- complete.cases(data)
cc
table(cc)["TRUE"]
nocc <- table(cc)["TRUE"]
nocc
as.integer(nocc)
cc <- complete.cases(data)
nocc <- as.integer(table(cc)["TRUE"])
nocc
aux <- out[["id"]] == i
row_n <- match(TRUE, aux)
out[row_n, 2] <- nocc
out[["id"]] == i
match(TRUE, aux)
source("complete.R")
setwd(wd)
source("complete.R")
complete()
complete("specdata", 1)
complete("specdata", c(2, 4, 8, 10, 12))
complete("specdata", 30:25)
complete("specdata", 3)
complete("specdata")
complete("specdata")
setwd(wd)
complete("specdata")
all_nobs <- complete(directory)
View(all_nobs)
View(all_nobs)
all_nobs[["nobs"]]
all_nobs[["nobs"]]>45
all_nobs[good]
all_nobs[good,]
all_nobs[[good,]]
good
all_knobs
all_nobs
all_nobs[,2]
all_nobs[,2] > 50
log_vec <- all_nobs[,2] > 50
log_vec
match(TRUE, log_vec)
all_nobs[log_vec,]
threshold <- 50
all_nobs[["nobs"]]>threshold
subset(all_nobs, all_nobs[["nobs"]]>threshold)
subset(all_nobs, all_nobs[["nobs"]] > 1000)
subset(all_nobs, all_nobs[["nobs"]] > 500)
subset(all_nobs, all_nobs[["nobs"]] > 1000)
theshold_nobs <- subset(all_nobs, all_nobs[["nobs"]] > 1000)
threshold_nobs <- subset(all_nobs, all_nobs[["nobs"]] > 1000)
View(threshold_nobs)
View(threshold_nobs)
threshold_nobs["id"]
threshold_nobs[["id"]]
id <- threshold_nobs[["id"]]
id
out <- vector(length(id))
?vector
out <- vector(numeric, length(id))
numeric(length(id))
out <- numeric(length(id))
?cor
out <- numeric()
out
out <- numeric(length(id))
out
wd <- getwd()
setwd(paste(wd, "/", directory, sep=""))
count = 1
for (i in id){
# create filename as strings from id
if (0 < i && i <= 9){
filename <- paste("00",i,".csv", sep="")
} else if (9 < i && i <= 99){
filename <- paste("0",i,".csv", sep="")
} else {filename <- paste(i, ".csv", sep="")}
# Read in csv data
data <- read.csv(filename)
# correlate pollutants
correlation <- cor(data[["nitrate"]], data[["sulfate"]])
# save to out
out[count] <- correlation
count <- count + 1
}
out
id
i <- 1
i
if (0 < i && i <= 9){
filename <- paste("00",i,".csv", sep="")
} else if (9 < i && i <= 99){
filename <- paste("0",i,".csv", sep="")
} else {filename <- paste(i, ".csv", sep="")}
i <- 2
# create filename as strings from id
if (0 < i && i <= 9){
filename <- paste("00",i,".csv", sep="")
} else if (9 < i && i <= 99){
filename <- paste("0",i,".csv", sep="")
} else {filename <- paste(i, ".csv", sep="")}
data <- read.csv(filename)
correlation <- cor(data[["nitrate"]], data[["sulfate"]])
cor(data[["nitrate"]], data[["sulfate"]])
data[["nitrate"]]
sul <- data[["sulfate"]]
nit <- data[["nitrate"]]
nit
sul
good <- complete.cases(data)
clean_data <- data[good]
clean_data <- data[good,]
View(clean_data)
View(clean_data)
nit <- clean_data[["nitrate"]]
sul <- clean_data[["sulfate"]]
nit
sul
cor(nit, sul)
correlation <- cor(nit, sul)
count = 1
for (i in id){
# create filename as strings from id
if (0 < i && i <= 9){
filename <- paste("00",i,".csv", sep="")
} else if (9 < i && i <= 99){
filename <- paste("0",i,".csv", sep="")
} else {filename <- paste(i, ".csv", sep="")}
# Read in csv data
data <- read.csv(filename)
# Clean data
good <- complete.cases(data)
clean_data <- data[good,]
# correlate pollutants
nit <- clean_data[["nitrate"]]
sul <- clean_data[["sulfate"]]
correlation <- cor(nit, sul)
# save to out
out[count] <- correlation
count <- count + 1
}
out
setwd(wd)
source("corr.R")
source("complete.R")
cr <- corr("specdata", 150)
head(cr)
summary(cr)
id
cr <- corr("specdata", 400)
head(cr)
cr <- corr("specdata", 5000)
summary(cr)
length(cr)
cr <- corr("specdata")
summary(cr)
length(cr)
i <- 294
wd <- getwd()
setwd(paste(wd, "/", directory, sep=""))
if (0 < i && i <= 9){
filename <- paste("00",i,".csv", sep="")
} else if (9 < i && i <= 99){
filename <- paste("0",i,".csv", sep="")
} else {filename <- paste(i, ".csv", sep="")}
data <- read.csv(filename)
cc <- complete.cases(data)
cc
as.integer(table(cc)["TRUE"])
cc <- complete.cases(data)
nocc <- as.integer(table(cc)["TRUE"])
if (nocc == NA) {nocc <- 0}
nocc <- as.integer(table(cc)["TRUE"])
nocc
nocc == NA
nocc[1]
nocc[1]==NA
nocc == 1
nocc[[1]==NA
nocc[[1]]==NA
in.na(nocc)
is.na(nocc)
if (is.na(nocc)) {nocc <- 0}
nocc
setwd(wd)
all_nobs <- complete(directory)
View(all_nobs)
View(all_nobs)
source("complete.R")
all_nobs <- complete(directory)
View(all_nobs)
View(all_nobs)
source("corr.R")
source("complete.R")
cr <- corr("specdata", 150)
head(cr)
summary(cr)
cr <- corr("specdata", 5000)
summary(cr)
cr <- corr("specdata")
summary(cr)
cr
length(cr)
source("complete.R")
complete("specdata")
source("corr.R")
cr <- corr("specdata", 5000)
summary(cr)
length(cr)
cr <- corr("specdata")
summary(cr)
length(cr)
all_nobs <- complete(directory)
source("complete.R")
all_nobs <- complete(directory)
source("corr.R")
source("complete.R")
cr <- corr("specdata", 150)
head(cr)
summary(cr)
cr <- corr("specdata", 400)
head(cr)
summary(cr)
cr <- corr("specdata", 5000)
summary(cr)
source("corr.R")
source("complete.R")
cr <- corr("specdata", 150)
head(cr)
summary(cr)
cr <- corr("specdata")
summary(cr)
i <- 294
# create filename as strings from id
if (0 < i && i <= 9){
filename <- paste("00",i,".csv", sep="")
} else if (9 < i && i <= 99){
filename <- paste("0",i,".csv", sep="")
} else {filename <- paste(i, ".csv", sep="")}
# Read in csv data
data <- read.csv(filename)
cc <- complete.cases(data)
cc
table(cc)["TRUE"]
pollutantmean("specdata", "sulfate", 1:10)
pollutantmean("specdata", "nitrate", 70:72)
pollutantmean("specdata", "sulfate", 34)
pollutantmean("specdata", "nitrate")
setwd(wd)
pollutantmean("specdata", "nitrate")
source("pollutantmean.R")
pollutantmean("specdata", "nitrate")
cc <- complete("specdata", c(6, 10, 20, 34, 100, 200, 310))
print(cc$nobs)
setwd(wd)
cc <- complete("specdata", c(6, 10, 20, 34, 100, 200, 310))
print(cc$nobs)
cc <- complete("specdata", 54)
print(cc$nobs)
set.seed(42)
cc <- complete("specdata", 332:1)
use <- sample(332, 10)
print(cc[use, "nobs"])
cr <- corr("specdata")
cr <- sort(cr)
set.seed(868)
out <- round(cr[sample(length(cr), 5)], 4)
print(out)
cr <- corr("specdata", 129)
cr <- sort(cr)
n <- length(cr)
set.seed(197)
out <- c(n, round(cr[sample(n, 5)], 4))
print(out)
cr <- corr("specdata", 2000)
n <- length(cr)
cr <- corr("specdata", 1000)
cr <- sort(cr)
print(c(n, round(cr, 4)))
makeVector <- function(x = numeric()) {
m <- NULL
set <- function(y) {
x <<- y
m <<- NULL
}
get <- function() x
setmean <- function(mean) m <<- mean
getmean <- function() m
list(set = set, get = get,
setmean = setmean,
getmean = getmean)
}
x <- 1:10
makeVector(x)
func_list <- makeVector(x)
x$getmean()
func_list$getmean()
cachemean <- function(x, ...) {
m <- x$getmean()
if(!is.null(m)) {
message("getting cached data")
return(m)
}
data <- x$get()
m <- mean(data, ...)
x$setmean(m)
m
}
cachemean(x)
cachemean(func_list)
x <- 1:20
y <- makeVector(x)
y
cachemean(y)
cachemean(makeVector(1:100))
setwd("~/Desktop/Coursera_R/Week3")
source("sample_funcs.R")
str(makeVector)
?solve
text_mat <- matrix(c(1,1,1,1),c(2,2))
text_mat
text_mat2 <- matrix(c(1,1,1,1), 2,2)
text_mat2
source("makeCacheMatric.R")
source("makeCacheMatric.R")
makeCacheMatrix(text_mat)
sourse("cacheSolve.R")
source("cacheSolve.R")
aux <- makeCacheMatrix(text_mat)
cacheSolve(aux)
eye <- matrix(c(1,0,0,1), 2,2)
eye
aux <- makeCacheMatrix(eye)
cacheSolve(aux)
aux <- makeCacheMatrix(2*eye)
cacheSolve(aux)
test <- matrix(c(1,1,0,1), 2,2)
test
aux <- makeCacheMatrix(test)
cacheSolve(aux)
cacheSolve(aux)
library(datasets)
data(iris)
View(data)
?iris
iris
?tpply
?tapply
tapply(iris, "virginica",mean)
s <- split(iris, iris$species)
head(iris)
s <- split(iris, iris$species)
s <- split(iris, iris$Species)
s
s$virginica
lapply(s$virginica, mean)
iris$Sepal.Length
lapply(s, mean)
colMeans(iris)
apply(iris[,1:4], 1, mean)
iris[,1:4]
apply(iris[,1:4], 2, mean)
library(datasets)
data(mtcars)
?mtcars
head(mtcars)
lapply(mtcars, mean)
sapply(split(mtcars$mpg, mtcars$cyl), mean)
split(mtcars, mtcars$cyl)
tapply(mtcars$cyl, mtcars$mpg, mean)
tapply(mtcars$mpg, mtcars$cyl, mean)
with(mtcars, tapply(mpg, cyl, mean))
apply(mtcars, 2, mean)
sapply(mtcars, cyl, mean)
mean(mtcars$mpg, mtcars$cyl)
sapply(split(mtcars$mpg, mtcars$hp), mean)
sapply(split(mtcars$hp, mtcars$cyl), mean)
sapply(split(mtcars$hp, mtcars$cyl), mean)$4
sapply(split(mtcars$hp, mtcars$cyl), mean)
y <- sapply(split(mtcars$hp, mtcars$cyl), mean)
y
sapply(split(mtcars$hp, mtcars$cyl), mean)$"4"
sapply(split(mtcars$hp, mtcars$cyl), mean)
7
y
y[["6"]]
y["6"]
sapply(split(mtcars$hp, mtcars$cyl), mean)[["6"]]
y[["4"]]-y[["6"]]
y[["4"]]-y[["8"]]
debug(ls)
ls
?ls
debug(ls)
ls
ls
ls
ls()
ls()
ls()
ls()
1
3
3
ls()
